<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="keywords" content="key, words, many, of, them">
  <link rel="canonical" href="https://example.com/index.html">
  <link rel="stylesheet" href="../_theme/stylesheets/index.css">
  <title>openzeppelin Docs: Default Theme // openzeppelin Documentation</title>
  <link rel="shortcut icon" href="../_theme/images/favicon.ico">
  <meta class="swiftype" name="title" data-type="string" content="openzeppelin Docs: Default Theme">
<meta class="swiftype" name="version" data-type="enum" content="3.6">
<link href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,600,600i" rel="stylesheet">
</head>
<body class="flex col">
  <div class="root">
	<nav
	class="nav js-nav"
	data-domain="contracts"
	data-is-home=""
	data-is-site-aspect=""
	data-version="3.6"
	role="navigation">
	<div class="flex align-center search">
		<input class="input" placeholder="Search" type="search">
	</div>

	<div class="nav__domains">
		<ol class="nav-list  js-nav-list">
			<li class="flex align-center justify-justified nav-li">
				<a class="flex grow align-center strong link nav-link nav-heading"
					tabindex="0">
					<image class="icon" src="/_theme/images/icons/Home.svg">
						<span class="flex grow">Test</span>
					</a>
							<li class="nav-li fade  " data-depth="0">
  <a class="flex shrink align-center link nav-link" href="styleguide.html">Styleguide</a>
<li class="nav-li fade  " data-depth="0">
  <a class="flex shrink align-center link nav-link" href="test.html">Test</a>
						</ol>
		<ol class="nav-list  js-nav-list">
			<li class="flex align-center justify-justified nav-li">
				<a class="flex grow align-center strong link nav-link nav-heading"
					tabindex="0">
					<image class="icon" src="/_theme/images/icons/contracts.svg">
						<span class="flex grow">Contracts</span>
					</a>
					<button class="flex align-center shrink btn btn-version">
						3.8
						<svg xmlns="http://www.w3.org/2000/svg" width="30" height="30"><path d="M15.003 21.284L6.563 9.232l1.928-.516 6.512 9.299 6.506-9.299 1.928.516-8.434 12.052z"/></svg>
						<div class="popover">
							<span class="popover__heading">Current version</span>
							<ol class="ol">
								<li class="flex align-center justify-justified li"  value="/contracts/3.8/index.html">3.8
								</ol>
								<span class="popover__heading">Previous versions</span>
								<ol class="ol">
									<li class="flex align-center justify-justified li"  value="/contracts/3.7/index.html">
										3.7
									<li class="flex align-center justify-justified li"  value="/contracts/3.6/index.html">
										3.6
									<li class="flex align-center justify-justified li"  value="/contracts/3.5/index.html">
										3.5
									<li class="flex align-center justify-justified li"  value="/contracts/3.4/index.html">
										3.4
									<li class="flex align-center justify-justified li"  value="/contracts/3.3/index.html">
										3.3
									<li class="flex align-center justify-justified li"  value="/contracts/3.2/index.html">
										3.2
									</ol>
								</div>
							</button>
							<li class="nav-li fade  " data-depth="0">
  <span class="flex shrink align-center nav-heading">Overview</span>
  <ol class="nested-list">
    <li class="nav-li fade  " data-depth="1">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8">Getting Started</a>
  </ol>
<li class="nav-li fade  " data-depth="0">
  <span class="flex shrink align-center nav-heading">Guides</span>
  <ol class="nested-list">
    <li class="nav-li fade  " data-depth="1">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8">Access Control</a>
<li class="nav-li fade  " data-depth="1">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8">Crowdsales</a>
<li class="nav-li fade  " data-depth="1">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8">Tokens</a>
<li class="nav-li fade  " data-depth="1">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8">Utilities</a>
  </ol>
<li class="nav-li fade  " data-depth="0">
  <span class="flex shrink align-center nav-heading">API Reference</span>
  <ol class="nested-list">
    <li class="nav-li fade  " data-depth="1">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8">Access</a>
<li class="nav-li fade  " data-depth="1">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8">Crowdsales</a>
<li class="nav-li fade  " data-depth="1">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8">Cryptography</a>
<li class="nav-li fade  " data-depth="1">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/adding-datasense-query-language">Drafts</a>
<li class="nav-li fade  " data-depth="1">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/adding-query-pagination-support">Introspection</a>
<li class="nav-li fade  " data-depth="1">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/building-a-batch-enabled-connector">Lifecycle</a>
<li class="nav-li fade  " data-depth="1">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/shading-libraries">Math</a>
<li class="nav-li fade  " data-depth="1">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/adding-libraries">Ownership</a>
<li class="nav-li fade  " data-depth="1">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/adding-libraries">Payment</a>
<li class="nav-li fade  " data-depth="1">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/adding-libraries">ERC 20</a>
<li class="nav-li fade  " data-depth="1">
  <a class="flex shrink align-center link nav-link" href="/erc-721.html">ERC 721</a>
<li class="nav-li fade  " data-depth="1">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/adding-libraries">ERC 777</a>
<li class="nav-li fade  " data-depth="1">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/adding-libraries">Utilities</a>
  </ol>
						</ol>
		<ol class="nav-list  js-nav-list">
			<li class="flex align-center justify-justified nav-li">
				<a class="flex grow align-center strong link nav-link nav-heading"
					tabindex="0">
					<image class="icon" src="/_theme/images/icons/sdk.svg">
						<span class="flex grow">SDK</span>
					</a>
					<button class="flex align-center shrink btn btn-version">
						3.8
						<svg xmlns="http://www.w3.org/2000/svg" width="30" height="30"><path d="M15.003 21.284L6.563 9.232l1.928-.516 6.512 9.299 6.506-9.299 1.928.516-8.434 12.052z"/></svg>
						<div class="popover">
							<span class="popover__heading">Current version</span>
							<ol class="ol">
								<li class="flex align-center justify-justified li"  value="/contracts/3.8/index.html">3.8
								</ol>
								<span class="popover__heading">Previous versions</span>
								<ol class="ol">
									<li class="flex align-center justify-justified li"  value="/contracts/3.7/index.html">
										3.7
									<li class="flex align-center justify-justified li"  value="/contracts/3.6/index.html">
										3.6
									<li class="flex align-center justify-justified li"  value="/contracts/3.5/index.html">
										3.5
									<li class="flex align-center justify-justified li"  value="/contracts/3.4/index.html">
										3.4
									<li class="flex align-center justify-justified li"  value="/contracts/3.3/index.html">
										3.3
									<li class="flex align-center justify-justified li"  value="/contracts/3.2/index.html">
										3.2
									</ol>
								</div>
							</button>
							<li class="nav-li fade  " data-depth="0">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/">Overview</a>
<li class="nav-li fade  " data-depth="0">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/setting-up-your-dev-environment">Setting up your development environment</a>
<li class="nav-li fade  " data-depth="0">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/connector-project-structure">Project structure</a>
<li class="nav-li fade  " data-depth="0">
  <span class="flex shrink align-center nav-heading">Creating a project</span>
  <ol class="nested-list">
    <li class="nav-li fade  " data-depth="1">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/creating-an-anypoint-connector-project">Overview</a>
<li class="nav-li fade  " data-depth="1">
  <a class="flex shrink align-center link nav-link" href="contracts/3.8/setting-up-api-access">Seting up API Access</a>
<li class="nav-li fade  " data-depth="1">
  <a class="flex shrink align-center link nav-link" href="contracts/3.8/connector-connection-strategies">Connection strategies</a>
<li class="nav-li fade  " data-depth="1">
  <span class="flex shrink align-center nav-heading">Authentication</span>
  <ol class="nested-list">
    <li class="nav-li fade  " data-depth="2">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/authentication">Overview</a>
<li class="nav-li fade  " data-depth="2">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/authentication-methods">Methods</a>
<li class="nav-li fade  " data-depth="2">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/oauth-v1">OAuth v1</a>
<li class="nav-li fade  " data-depth="2">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/oauth-v2">OAuth v2</a>
<li class="nav-li fade  " data-depth="2">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/connection-management">Connection management</a>
<li class="nav-li fade  " data-depth="2">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/no-authentication">No authentication</a>
<li class="nav-li fade  " data-depth="2">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/http-basic-authentication">HTTP authentication</a>
  </ol>
<li class="nav-li fade  " data-depth="1">
  <span class="flex shrink align-center nav-heading">Java</span>
  <ol class="nested-list">
    <li class="nav-li fade  " data-depth="2">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/creating-a-java-sdk-based-connector">Creating a connector</a>
<li class="nav-li fade  " data-depth="2">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/creating-a-connector-using-a-java-sdk">Connector example</a>
  </ol>
<li class="nav-li fade  " data-depth="1">
  <span class="flex shrink align-center nav-heading">SOAP</span>
  <ol class="nested-list">
    <li class="nav-li fade  " data-depth="2">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/creating-a-soap-connector">Creating a connector</a>
<li class="nav-li fade  " data-depth="2">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/soap-connect-session-management">Session management</a>
<li class="nav-li fade  " data-depth="2">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/creating-a-connector-for-a-soap-service-via-cxf-client">Creating a connector using CXF</a>
  </ol>
  </ol>
<li class="nav-li fade  " data-depth="0">
  <span class="flex shrink align-center nav-heading">Adding functionality</span>
  <ol class="nested-list">
    <li class="nav-li fade  " data-depth="1">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/connector-attributes-and-operations">Overview</a>
<li class="nav-li fade  " data-depth="1">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/defining-message-sources">Defining message sources</a>
<li class="nav-li fade  " data-depth="1">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/creating-message-processors">Creating message processors</a>
<li class="nav-li fade  " data-depth="1">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/defining-connector-attributes">Defining attributes</a>
<li class="nav-li fade  " data-depth="1">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/complex-data-types-attributes">Complex data types</a>
<li class="nav-li fade  " data-depth="1">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/mime-type-and-encoding">MIME type and encoding</a>
  </ol>
<li class="nav-li fade  " data-depth="0">
  <span class="flex shrink align-center nav-heading">Extending functionality</span>
  <ol class="nested-list">
    <li class="nav-li fade  " data-depth="1">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/extending-connector-functionality">Overview</a>
<li class="nav-li fade  " data-depth="1">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/adding-datasense">Adding DataSense</a>
<li class="nav-li fade  " data-depth="1">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/multiple-level-datasense-support">Multi-level DataSense</a>
<li class="nav-li fade  " data-depth="1">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/adding-datasense-query-language">Adding DataSense query language</a>
<li class="nav-li fade  " data-depth="1">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/adding-query-pagination-support">Adding query pagination</a>
<li class="nav-li fade  " data-depth="1">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/building-a-batch-enabled-connector">Building a batch enabled connector</a>
<li class="nav-li fade  " data-depth="1">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/shading-libraries">Shading libraries</a>
<li class="nav-li fade  " data-depth="1">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/adding-libraries">Adding libraries and JARs</a>
  </ol>
<li class="nav-li fade  " data-depth="0">
  <span class="flex shrink align-center nav-heading">Developing Tests</span>
<li class="nav-li fade  " data-depth="0">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/connector-reference-documentation">Documenting your Connector</a>
<li class="nav-li fade  " data-depth="0">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/packaging-your-connector-for-release">Packaging for release</a>
<li class="nav-li fade  " data-depth="0">
  <span class="flex shrink align-center nav-heading">Connector Certification</span>
  <ol class="nested-list">
    <li class="nav-li fade  " data-depth="1">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/connector-certification-program-guidelines">Overview</a>
<li class="nav-li fade  " data-depth="1">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/certified-connector-license-management">License management</a>
  </ol>
						</ol>
		<ol class="nav-list  js-nav-list">
			<li class="flex align-center justify-justified nav-li">
				<a class="flex grow align-center strong link nav-link nav-heading"
					tabindex="0">
					<image class="icon" src="/_theme/images/icons/starter-kit.svg">
						<span class="flex grow">Starter Kit</span>
					</a>
					<button class="flex align-center shrink btn btn-version">
						3.8
						<svg xmlns="http://www.w3.org/2000/svg" width="30" height="30"><path d="M15.003 21.284L6.563 9.232l1.928-.516 6.512 9.299 6.506-9.299 1.928.516-8.434 12.052z"/></svg>
						<div class="popover">
							<span class="popover__heading">Current version</span>
							<ol class="ol">
								<li class="flex align-center justify-justified li"  value="/contracts/3.8/index.html">3.8
								</ol>
								<span class="popover__heading">Previous versions</span>
								<ol class="ol">
									<li class="flex align-center justify-justified li"  value="/contracts/3.7/index.html">
										3.7
									<li class="flex align-center justify-justified li"  value="/contracts/3.6/index.html">
										3.6
									<li class="flex align-center justify-justified li"  value="/contracts/3.5/index.html">
										3.5
									<li class="flex align-center justify-justified li"  value="/contracts/3.4/index.html">
										3.4
									<li class="flex align-center justify-justified li"  value="/contracts/3.3/index.html">
										3.3
									<li class="flex align-center justify-justified li"  value="/contracts/3.2/index.html">
										3.2
									</ol>
								</div>
							</button>
							<li class="nav-li fade  " data-depth="0">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/">Overview</a>
<li class="nav-li fade  " data-depth="0">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/setting-up-your-dev-environment">Setting up your development environment</a>
<li class="nav-li fade  " data-depth="0">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/connector-project-structure">Project structure</a>
<li class="nav-li fade  " data-depth="0">
  <span class="flex shrink align-center nav-heading">Creating a project</span>
  <ol class="nested-list">
    <li class="nav-li fade  " data-depth="1">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/creating-an-anypoint-connector-project">Overview</a>
<li class="nav-li fade  " data-depth="1">
  <a class="flex shrink align-center link nav-link" href="contracts/3.8/setting-up-api-access">Seting up API Access</a>
<li class="nav-li fade  " data-depth="1">
  <a class="flex shrink align-center link nav-link" href="contracts/3.8/connector-connection-strategies">Connection strategies</a>
<li class="nav-li fade  " data-depth="1">
  <span class="flex shrink align-center nav-heading">Authentication</span>
  <ol class="nested-list">
    <li class="nav-li fade  " data-depth="2">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/authentication">Overview</a>
<li class="nav-li fade  " data-depth="2">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/authentication-methods">Methods</a>
<li class="nav-li fade  " data-depth="2">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/oauth-v1">OAuth v1</a>
<li class="nav-li fade  " data-depth="2">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/oauth-v2">OAuth v2</a>
<li class="nav-li fade  " data-depth="2">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/connection-management">Connection management</a>
<li class="nav-li fade  " data-depth="2">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/no-authentication">No authentication</a>
<li class="nav-li fade  " data-depth="2">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/http-basic-authentication">HTTP authentication</a>
  </ol>
<li class="nav-li fade  " data-depth="1">
  <span class="flex shrink align-center nav-heading">Java</span>
  <ol class="nested-list">
    <li class="nav-li fade  " data-depth="2">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/creating-a-java-sdk-based-connector">Creating a connector</a>
<li class="nav-li fade  " data-depth="2">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/creating-a-connector-using-a-java-sdk">Connector example</a>
  </ol>
<li class="nav-li fade  " data-depth="1">
  <span class="flex shrink align-center nav-heading">SOAP</span>
  <ol class="nested-list">
    <li class="nav-li fade  " data-depth="2">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/creating-a-soap-connector">Creating a connector</a>
<li class="nav-li fade  " data-depth="2">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/soap-connect-session-management">Session management</a>
<li class="nav-li fade  " data-depth="2">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/creating-a-connector-for-a-soap-service-via-cxf-client">Creating a connector using CXF</a>
  </ol>
  </ol>
<li class="nav-li fade  " data-depth="0">
  <span class="flex shrink align-center nav-heading">Adding functionality</span>
  <ol class="nested-list">
    <li class="nav-li fade  " data-depth="1">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/connector-attributes-and-operations">Overview</a>
<li class="nav-li fade  " data-depth="1">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/defining-message-sources">Defining message sources</a>
<li class="nav-li fade  " data-depth="1">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/creating-message-processors">Creating message processors</a>
<li class="nav-li fade  " data-depth="1">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/defining-connector-attributes">Defining attributes</a>
<li class="nav-li fade  " data-depth="1">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/complex-data-types-attributes">Complex data types</a>
<li class="nav-li fade  " data-depth="1">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/mime-type-and-encoding">MIME type and encoding</a>
  </ol>
<li class="nav-li fade  " data-depth="0">
  <span class="flex shrink align-center nav-heading">Extending functionality</span>
  <ol class="nested-list">
    <li class="nav-li fade  " data-depth="1">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/extending-connector-functionality">Overview</a>
<li class="nav-li fade  " data-depth="1">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/adding-datasense">Adding DataSense</a>
<li class="nav-li fade  " data-depth="1">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/multiple-level-datasense-support">Multi-level DataSense</a>
<li class="nav-li fade  " data-depth="1">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/adding-datasense-query-language">Adding DataSense query language</a>
<li class="nav-li fade  " data-depth="1">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/adding-query-pagination-support">Adding query pagination</a>
<li class="nav-li fade  " data-depth="1">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/building-a-batch-enabled-connector">Building a batch enabled connector</a>
<li class="nav-li fade  " data-depth="1">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/shading-libraries">Shading libraries</a>
<li class="nav-li fade  " data-depth="1">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/adding-libraries">Adding libraries and JARs</a>
  </ol>
<li class="nav-li fade  " data-depth="0">
  <span class="flex shrink align-center nav-heading">Developing Tests</span>
<li class="nav-li fade  " data-depth="0">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/connector-reference-documentation">Documenting your Connector</a>
<li class="nav-li fade  " data-depth="0">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/packaging-your-connector-for-release">Packaging for release</a>
<li class="nav-li fade  " data-depth="0">
  <span class="flex shrink align-center nav-heading">Connector Certification</span>
  <ol class="nested-list">
    <li class="nav-li fade  " data-depth="1">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/connector-certification-program-guidelines">Overview</a>
<li class="nav-li fade  " data-depth="1">
  <a class="flex shrink align-center link nav-link" href="/contracts/3.8/certified-connector-license-management">License management</a>
  </ol>
						</ol>
					</div>
				</nav>
	<main role="main" class="main">
		<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar__logo">
        <svg width="209px" height="24px" viewBox="0 0 209 24" version="1.1"
          xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink">
          <g id="Page-1" stroke="none" stroke-width="1" fill="none"
            fill-rule="evenodd">
            <g id="home-[TBD]" transform="translate(-360.000000, -26.000000)">
              <g id="navbar" transform="translate(299.000000, 0.000000)">
                <g id="Group-5" transform="translate(61.000000, 26.000000)">
                  <g id="Group-7-Copy-4" transform="translate(-0.000000,
                    -0.000000)">
                    <path d="M21.4663663,23.9300128 L21.4663663,17.7061037
                      L14.7279539,17.7061037 C12.895474,17.7061037
                      11.1980311,18.6736822 10.2594904,20.2533582
                      L8.07492852,23.9300128 L21.4663663,23.9300128 Z"
                      id="Stroke-1" fill="#63D2F9"></path>
                    <polygon id="Stroke-3" fill="#4E5EE4" points="0.019867965
                      0.0199524162 0.019867965 6.24386149 17.7682654 6.24386149
                      21.4663782 0.0199524162"></polygon>
                    <path d="M8.51406302,9.74697276 L0.0394099651,23.9300247
                      L7.2596145,23.9300247 L17.3937872,6.96201283
                      L13.4067581,6.96201283 C11.401318,6.96201283
                      9.54339693,8.01955871 8.51406302,9.74697276 Z"
                      id="Stroke-5" fill="#63B0F9"></path>
                  </g>
                  <path d="M172.76828,17.9512764 C170.154155,17.9512764
                    168.343063,16.0160804 168.343063,13.2931055
                    C168.343063,10.553005 170.154155,8.60068342
                    172.665765,8.60068342 C174.528115,8.60068342
                    175.51909,9.79947739 175.792463,10.2618693
                    L175.894978,10.2618693 L175.894978,4.88442211
                    L177.244754,4.88442211 L177.244754,17.7286432
                    L175.946235,17.7286432 L175.946235,16.3243417
                    L175.84372,16.3243417 C175.621605,16.6497286
                    174.698973,17.9512764 172.76828,17.9512764 Z
                    M172.853709,16.7353568 C174.784402,16.7353568
                    175.946235,15.159799 175.946235,13.2931055
                    C175.946235,11.1010251 174.579372,9.83372864
                    172.819537,9.83372864 C170.991359,9.83372864
                    169.727011,11.2722814 169.727011,13.2931055
                    C169.727011,15.3824322 170.991359,16.7353568
                    172.853709,16.7353568 Z M184.412555,17.9512764
                    C181.747174,17.9512764 179.782309,15.9818291
                    179.782309,13.2759799 C179.782309,10.5872563
                    181.781345,8.60068342 184.429641,8.60068342
                    C187.112109,8.60068342 189.059888,10.6043819
                    189.059888,13.2759799 C189.059888,15.9475779
                    187.077937,17.9512764 184.412555,17.9512764 Z
                    M184.412555,16.7182312 C186.326163,16.7182312
                    187.675939,15.2625528 187.675939,13.2759799
                    C187.675939,11.3065327 186.326163,9.83372864
                    184.412555,9.83372864 C182.498948,9.83372864
                    181.166257,11.3236583 181.166257,13.2759799
                    C181.166257,15.2796784 182.516034,16.7182312
                    184.412555,16.7182312 Z M195.646772,17.9512764
                    C192.964305,17.9512764 191.084869,15.9133266
                    191.084869,13.2759799 C191.084869,10.6386332
                    193.015562,8.60068342 195.629686,8.60068342
                    C197.56038,8.60068342 199.354386,9.76522613
                    199.832788,11.751799 L198.431754,11.751799
                    C198.072953,10.5872563 196.945292,9.83372864
                    195.663858,9.83372864 C193.767336,9.83372864
                    192.485903,11.3407839 192.485903,13.2759799
                    C192.485903,15.2796784 193.83568,16.7182312
                    195.69803,16.7182312 C196.979463,16.7182312
                    198.12421,15.9647035 198.465926,14.8001608
                    L199.849874,14.8001608 C199.388558,16.7867337
                    197.577465,17.9512764 195.646772,17.9512764 Z
                    M205.497041,17.9512764 C203.39549,17.9512764
                    202.199485,16.8038593 202.045713,15.1426734
                    L203.361318,15.1426734 C203.51509,16.2044623
                    204.266865,16.769608 205.565384,16.769608
                    C206.898075,16.769608 207.632763,16.1188342
                    207.632763,15.2111759 C207.632763,12.7108342
                    202.319086,14.6117789 202.319086,11.0838995
                    C202.319086,9.57684422 203.668862,8.60068342
                    205.531212,8.60068342 C207.171447,8.60068342
                    208.53831,9.55971859 208.674996,11.1695276
                    L207.376477,11.1695276 C207.256876,10.3303719
                    206.624702,9.76522613 205.445784,9.76522613
                    C204.335208,9.76522613 203.617605,10.3132462
                    203.617605,11.0838995 C203.617605,13.3444824
                    208.948368,11.4606633 208.948368,15.1426734
                    C208.948368,16.8209849 207.56442,17.9512764
                    205.497041,17.9512764 Z" id="docs" fill="#282846"
                    fill-rule="nonzero" opacity="0.9"></path>
                  <path d="M36.8275779,17.9512764 C33.1969447,17.9512764
                    30.5253467,15.296804 30.5253467,11.7346734
                    C30.5253467,8.20679397 33.2140704,5.51807035
                    36.8447035,5.51807035 C40.4753367,5.51807035
                    43.1640603,8.24104523 43.1640603,11.7346734
                    C43.1640603,15.2625528 40.4582111,17.9512764
                    36.8275779,17.9512764 Z M36.8447035,15.7763216
                    C39.1395377,15.7763216 40.783598,14.0637588
                    40.783598,11.7346734 C40.783598,9.4398392
                    39.1395377,7.69302513 36.8447035,7.69302513
                    C34.5327437,7.69302513 32.8886834,9.4398392
                    32.8886834,11.7346734 C32.8886834,14.0637588
                    34.5327437,15.7763216 36.8447035,15.7763216 Z
                    M45.5952668,21.6675377 L45.5952668,8.72056281
                    L47.7873472,8.72056281 L47.7873472,9.8679799
                    L47.9072266,9.8679799 C48.1469854,9.49121608
                    48.9690156,8.49792965 50.6130759,8.49792965
                    C53.1305432,8.49792965 54.8602316,10.3817487
                    54.8602316,13.1903518 C54.8602316,15.9989548
                    53.1476688,17.9512764 50.6815784,17.9512764
                    C49.088895,17.9512764 48.2326136,17.0607437
                    47.9414779,16.5641005 L47.8215985,16.5641005
                    L47.8215985,21.6675377 L45.5952668,21.6675377 Z
                    M50.1849352,15.9304523 C51.6234879,15.9304523
                    52.5996487,14.8172864 52.5996487,13.224603
                    C52.5996487,11.5805427 51.6234879,10.5187538
                    50.1678095,10.5187538 C48.6950055,10.5187538
                    47.7702216,11.7004221 47.7702216,13.224603
                    C47.7702216,14.9029146 48.7977593,15.9304523
                    50.1849352,15.9304523 Z M61.2303326,17.9512764
                    C58.5758603,17.9512764 56.6920412,15.9647035
                    56.6920412,13.2759799 C56.6920412,10.4331256
                    58.5929859,8.49792965 61.2303326,8.49792965
                    C64.1245638,8.49792965 65.7001216,10.6386332
                    65.7001216,13.1732261 L65.7001216,13.8753769
                    L58.8498703,13.8753769 C58.9183728,15.2454271
                    59.8602824,16.1702111 61.2988351,16.1702111
                    C62.3948753,16.1702111 63.2340311,15.6564422
                    63.5422924,14.9200402 L65.6144934,14.9200402
                    C65.1692271,16.7524824 63.5594181,17.9512764
                    61.2303326,17.9512764 Z M58.8841216,12.2998191
                    L63.5765437,12.2998191 C63.4737899,11.0838995
                    62.5318804,10.278995 61.2303326,10.278995
                    C59.9801618,10.278995 59.0211266,11.1695276
                    58.8841216,12.2998191 Z M68.0970768,17.7286432
                    L68.0970768,8.72056281 L70.2206547,8.72056281
                    L70.2206547,9.81660302 L70.3405341,9.81660302
                    C70.7001723,9.14870352 71.590705,8.49792965
                    72.8751271,8.49792965 C74.8959512,8.49792965
                    76.1289964,9.91935678 76.1289964,11.8374271
                    L76.1289964,17.7286432 L73.9026648,17.7286432
                    L73.9026648,12.4196985 C73.9026648,11.3236583
                    73.200514,10.5872563 72.1729763,10.5872563
                    C71.0940618,10.5872563 70.3234085,11.4435377
                    70.3234085,12.5738291 L70.3234085,17.7286432
                    L68.0970768,17.7286432 Z M78.3375698,17.7286432
                    L78.3375698,15.6906935 L84.5712984,7.83003015
                    L84.5712984,7.71015075 L78.5602029,7.71015075
                    L78.5602029,5.74070352 L87.4141527,5.74070352
                    L87.4141527,7.76152764 L81.1804241,15.622191
                    L81.1804241,15.759196 L87.448404,15.759196
                    L87.448404,17.7286432 L78.3375698,17.7286432 Z
                    M93.4759924,17.9512764 C90.82152,17.9512764
                    88.9377009,15.9647035 88.9377009,13.2759799
                    C88.9377009,10.4331256 90.8386456,8.49792965
                    93.4759924,8.49792965 C96.3702235,8.49792965
                    97.9457813,10.6386332 97.9457813,13.1732261
                    L97.9457813,13.8753769 L91.0955301,13.8753769
                    C91.1640326,15.2454271 92.1059421,16.1702111
                    93.5444949,16.1702111 C94.6405351,16.1702111
                    95.4796909,15.6564422 95.7879522,14.9200402
                    L97.8601532,14.9200402 C97.4148869,16.7524824
                    95.8050778,17.9512764 93.4759924,17.9512764 Z
                    M91.1297813,12.2998191 L95.8222034,12.2998191
                    C95.7194497,11.0838995 94.7775401,10.278995
                    93.4759924,10.278995 C92.2258215,10.278995
                    91.2667863,11.1695276 91.1297813,12.2998191 Z
                    M100.342737,21.6675377 L100.342737,8.72056281
                    L102.534817,8.72056281 L102.534817,9.8679799
                    L102.654696,9.8679799 C102.894455,9.49121608
                    103.716485,8.49792965 105.360546,8.49792965
                    C107.878013,8.49792965 109.607701,10.3817487
                    109.607701,13.1903518 C109.607701,15.9989548
                    107.895139,17.9512764 105.429048,17.9512764
                    C103.836365,17.9512764 102.980083,17.0607437
                    102.688948,16.5641005 L102.569068,16.5641005
                    L102.569068,21.6675377 L100.342737,21.6675377 Z
                    M104.932405,15.9304523 C106.370958,15.9304523
                    107.347118,14.8172864 107.347118,13.224603
                    C107.347118,11.5805427 106.370958,10.5187538
                    104.915279,10.5187538 C103.442475,10.5187538
                    102.517691,11.7004221 102.517691,13.224603
                    C102.517691,14.9029146 103.545229,15.9304523
                    104.932405,15.9304523 Z M112.004657,21.6675377
                    L112.004657,8.72056281 L114.196737,8.72056281
                    L114.196737,9.8679799 L114.316616,9.8679799
                    C114.556375,9.49121608 115.378405,8.49792965
                    117.022466,8.49792965 C119.539933,8.49792965
                    121.269621,10.3817487 121.269621,13.1903518
                    C121.269621,15.9989548 119.557059,17.9512764
                    117.090968,17.9512764 C115.498285,17.9512764
                    114.642003,17.0607437 114.350868,16.5641005
                    L114.230988,16.5641005 L114.230988,21.6675377
                    L112.004657,21.6675377 Z M116.594325,15.9304523
                    C118.032878,15.9304523 119.009039,14.8172864
                    119.009039,13.224603 C119.009039,11.5805427
                    118.032878,10.5187538 116.577199,10.5187538
                    C115.104395,10.5187538 114.179611,11.7004221
                    114.179611,13.224603 C114.179611,14.9029146
                    115.207149,15.9304523 116.594325,15.9304523 Z
                    M127.639722,17.9512764 C124.98525,17.9512764
                    123.101431,15.9647035 123.101431,13.2759799
                    C123.101431,10.4331256 125.002376,8.49792965
                    127.639722,8.49792965 C130.533954,8.49792965
                    132.109511,10.6386332 132.109511,13.1732261
                    L132.109511,13.8753769 L125.25926,13.8753769
                    C125.327763,15.2454271 126.269672,16.1702111
                    127.708225,16.1702111 C128.804265,16.1702111
                    129.643421,15.6564422 129.951682,14.9200402
                    L132.023883,14.9200402 C131.578617,16.7524824
                    129.968808,17.9512764 127.639722,17.9512764 Z
                    M125.293511,12.2998191 L129.985934,12.2998191
                    C129.88318,11.0838995 128.94127,10.278995
                    127.639722,10.278995 C126.389552,10.278995
                    125.430516,11.1695276 125.293511,12.2998191 Z
                    M136.698547,17.7286432 C135.122989,17.7286432
                    134.232457,16.7867337 134.232457,15.1940503
                    L134.232457,4.88442211 L136.458788,4.88442211
                    L136.458788,14.9885427 C136.458788,15.5023116
                    136.715673,15.7763216 137.178065,15.7763216
                    L137.537703,15.7763216 L137.537703,17.7286432
                    L136.698547,17.7286432 Z M140.79094,7.52176884
                    C139.986035,7.52176884 139.420889,7.02512563
                    139.420889,6.22022111 C139.420889,5.44956784
                    139.986035,4.93579899 140.79094,4.93579899
                    C141.595844,4.93579899 142.16099,5.44956784
                    142.16099,6.22022111 C142.16099,7.02512563
                    141.595844,7.52176884 140.79094,7.52176884 Z
                    M139.677774,17.7286432 L139.677774,8.72056281
                    L141.904105,8.72056281 L141.904105,17.7286432
                    L139.677774,17.7286432 Z M144.609322,17.7286432
                    L144.609322,8.72056281 L146.7329,8.72056281
                    L146.7329,9.81660302 L146.852779,9.81660302
                    C147.212417,9.14870352 148.10295,8.49792965
                    149.387372,8.49792965 C151.408196,8.49792965
                    152.641242,9.91935678 152.641242,11.8374271
                    L152.641242,17.7286432 L150.41491,17.7286432
                    L150.41491,12.4196985 C150.41491,11.3236583
                    149.712759,10.5872563 148.685221,10.5872563
                    C147.606307,10.5872563 146.835654,11.4435377
                    146.835654,12.5738291 L146.835654,17.7286432
                    L144.609322,17.7286432 Z" id="OpenZeppelin" fill="#282846"
                    fill-rule="nonzero"></path>
                  <polygon id="|-copy-5" fill="#282846" fill-rule="nonzero"
                    opacity="0.9" points="161.433483 18.0904523 160.27506
                    18.0904523 160.27506 5.7127744 161.433483 5.7127744"></polygon>
                </g>
              </g>
            </g>
          </g>
        </svg>
      </div>
      <div class="navbar-end">
        <a class="navbar-item" href="#">Github</a>
        <a class="navbar-item" href="#">Forum</a>
        <a class="navbar-item" href="#">Blog</a>
        <a class="navbar-item" href="#">Website</a>
      </div>
    </div>
  </nav>
</header>
		<article class="article doc container" data-swiftype-index="true">
	<h1 data-swiftype-index="false">openzeppelin Docs: Default Theme</h1>
	<div id="toc" class="toc">
<div id="toctitle">Contents</div>
<ul class="sectlevel1">
<li><a href="#theme-overview">Theme Overview</a>
<ul class="sectlevel2">
<li><a href="#technology-brief">Technology Brief</a></li>
<li><a href="#theme-compilation">Theme Compilation</a></li>
<li><a href="#repository-structure-master-branch">Repository Structure (master branch)</a></li>
<li><a href="#theme-bundle-structure-releases">Theme Bundle Structure (releases)</a></li>
</ul>
</li>
<li><a href="#prerequisites">Prerequisites</a></li>
<li><a href="#setting-up-the-project">Setting Up the Project</a></li>
<li><a href="#building-for-preview">Building for Preview</a>
<ul class="sectlevel2">
<li><a href="#build-once">Build Once</a></li>
<li><a href="#build-continuously">Build Continuously</a></li>
<li><a href="#package">Package</a></li>
</ul>
</li>
<li><a href="#working-on-the-theme">Working on the Theme</a>
<ul class="sectlevel2">
<li><a href="#development-workflow">Development Workflow</a></li>
<li><a href="#handlebars-templates">Handlebars Templates</a></li>
<li><a href="#stylesheets">Stylesheets</a></li>
<li><a href="#shared-partials">Shared Partials</a></li>
<li><a href="#theme-configuration">Theme Configuration</a></li>
<li><a href="#use-case-1-add-a-new-css-rule">Use Case 1: Add a new CSS rule</a></li>
<li><a href="#use-case-2-modify-a-template">Use Case 2: Modify a template</a></li>
</ul>
</li>
<li><a href="#publishing-a-release">Publishing a Release</a>
<ul class="sectlevel2">
<li><a href="#release-task-configuration">Release Task Configuration</a></li>
<li><a href="#ci-job-configuration">CI Job Configuration</a></li>
<li><a href="#publishing-a-release-manually">Publishing a Release Manually</a></li>
</ul>
</li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>The project in this repository is used to compile and package the default theme for the openzeppelin documentation site.
It contains the theme artifacts (page templates, CSS, JavaScript, etc.) and a build.
The build can be used to preview the theme locally (featuring live updates) or package and publish it to GitHub releases for consumption by the site generator.</p>
</div>
<div class="paragraph">
<p>This guide explains how to develop and use the theme.
After reading this guide, you&#8217;ll be able to:</p>
</div>
<div class="ulist checklist">
<ul class="checklist">
<li>
<p><i class="fa fa-check-square-o"></i> Understand how the theme project is structured.</p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> Set up your environment to work on the theme project.</p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> Launch a preview server to visually inspect the theme.</p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> Adopt a development workflow to share and accept changes to the theme.</p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> Package and publish the theme for the site generator to use.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="theme-overview"><a class="anchor" href="#theme-overview"></a>Theme Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A theme consists of the following types of files used to structure and style the pages of the documentation site:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Handlebars &#8220;page&#8221; templates (layouts and partials)</p>
</li>
<li>
<p>CSS (enhanced using PostCSS)</p>
</li>
<li>
<p>JavaScript (UI scripts)</p>
</li>
<li>
<p>Images / Graphics (specific to the theme)</p>
</li>
<li>
<p>Fonts</p>
</li>
<li>
<p>HTML (sample content for previewing the theme)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To understand how the theme works, let&#8217;s begin by surveying some the technologies used by the theme.</p>
</div>
<div class="sect2">
<h3 id="technology-brief"><a class="anchor" href="#technology-brief"></a>Technology Brief</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">Handlebars (file extension: <code>.hbs</code>)</dt>
<dd>
<p><a href="http://handlebarsjs.com">Handlebars</a> is a &#8220;logic-less&#8221; templating engine used to create HTML from template files.
Templates contain placeholders (i.e., mustache expressions) into which content is injected from a model.
They also accommodate simple logic expressions for repeating content or including it conditionally.</p>
</dd>
<dt class="hdlist1">Gulp (script file: <em class="path">gulpfile.js</em>)</dt>
<dd>
<p><a href="http://gulpjs.com">Gulp</a> is a build tool for JavaScript projects.
It configures a collection of tasks that can be used to perform automated tasks such as compiling files, running a preview server, or publishing a release.</p>
</dd>
<dt class="hdlist1">Yarn (command: <code>yarn</code>)</dt>
<dd>
<p><a href="https://yarnpkg.com">Yarn</a> manages software packages (i.e., software dependencies) that it downloads from <a href="https://npmjs.com" class="bare">npmjs.com</a>.
The software this project uses includes libraries that handle compilation as well as shared assets such as font files that are distributed as npm packages.
(While npm itself is often used to install Yarn, we do not use npm for any other purpose).</p>
<div class="dlist">
<dl>
<dt class="hdlist1">package.json</dt>
<dd>
<p>This file keeps track of the dependencies (described using fuzzy versions) that Yarn should fetch.</p>
</dd>
<dt class="hdlist1">yarn.lock</dt>
<dd>
<p>This file contains a report of which dependencies Yarn resolved.
This information ensures that the dependency resolution is reproducible.</p>
</dd>
<dt class="hdlist1">node_modules/</dt>
<dd>
<p>A local cache of resolved dependencies that Yarn (or npm) fetches.</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1">PostCSS</dt>
<dd>
<p>This project does not use a CSS preprocessor such as Sass or LESS.
Instead, it relies on normal CSS which is enhanced by a series of postprocessors.
The most common postprocessor backports newer CSS features to older browsers by injecting properties with vendor prefixes.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="theme-compilation"><a class="anchor" href="#theme-compilation"></a>Theme Compilation</h3>
<div class="paragraph">
<p>Although the theme assets are served statically in the production site, they live in a source form in this project to accommodate development and simplify maintenance.
When handed off to the site generator, the theme is in an interim, pre-compiled state.
Specifically, the master branch of the git repository contains the files in source form while releases are used to distribute the files in pre-compiled form.
These two states (source and pre-compiled) are explained in more detail in the next two sections.</p>
</div>
<div class="paragraph">
<p>The responsibility of compiling the theme is shared between this project and the site generator.
The theme project uses a local build to pre-compile (interpret, consolidate, and/or minimize) the assets.
The pre-compiled files are those which are agnostic to the content model, relieving the site generator from having to deal with this part.
It also allows the theme to be reused.</p>
</div>
<div class="paragraph">
<p>The theme build then publishes the pre-compiled theme as a bundle, which the site generator consumes.
The site generator grabs the bundle, extracts it, and takes compilation to completion by weaving the content model into the Handlebars templates to make the pages and auxiliary data files.
It then copies the remaining theme assets to the site output.</p>
</div>
<div class="paragraph">
<p>Thus, the purpose of the theme project is to get the theme files into a state that the site generator can use and to make it reusable.</p>
</div>
</div>
<div class="sect2">
<h3 id="repository-structure-master-branch"><a class="anchor" href="#repository-structure-master-branch"></a>Repository Structure (master branch)</h3>
<div class="paragraph">
<p>You should think of the master branch as the theme workspace.
It contains the recipe and raw materials for creating a theme.
It includes a build, source files, project files, and dependency information.</p>
</div>
<div class="paragraph">
<p>Here&#8217;s how the files are structured within this project:</p>
</div>
<div class="literalblock output">
<div class="content">
<pre>README.adoc
config.js
gulpfile.js
package.json
theme.yml
yarn.lock
helpers/
  equals.js
  has-multiple-versions.js
  page-versions.js
  version-label.js
images/
  chevron.svg
  chevron-white.svg
  github-logo.svg
  header_footer_sprite.svg
  home-hovered.svg
  home.svg
  openzeppelin-dev-logo.svg
  openzeppelin-logo.svg
  triangle.svg
layouts/
  default.hbs
partials/
  article.hbs
  breadcrumbs.hbs
  domain-selector.hbs
  footer.hbs
  footer-scripts.hbs
  footer-shared.hbs
  header.hbs
  header-shared.hbs
  head.hbs
  main.hbs
  navigation.hbs
  navigation-tree.hbs
  page-version-selector.hbs
  toolbar.hbs
preview-site/
  index.html
  sample-ui-model.json
scripts/
  domain-selector.js
  highlight.pack.js
  navigation.js
  page-version-selector.js
stylesheets/
  article.css
  domain-selector.css
  footer.css
  footer-terms-condition-menu.css
  header.css
  header-links.css
  header-menu.css
  hljs-theme-github.css
  main.css
  navigation.css
  page-version-selector.css
  root.css
  scrollbars.css
  index.css
  toolbar.css
tasks/
  build.js
  build-preview.js
  pack.js
  preview.js
  release.js
  update.js</pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
The <em class="path">partials/header-shared.hbs</em> and <em class="path">partials/footer-shared.hbs</em> files are automatically generated and therefore should not be modified directly.
These areas of the page are not owned by the documentation team.
Instead, the files are retrieved from the page header and footer endpoints provided by marketing.
See <a href="#shared-partials">Shared Partials</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>A Gulp build is used to compile and assemble these files to produce a (distributable) theme bundle, described in the next section.
When the files are built, they are assembled under the <em class="path">build/_theme</em> directory.
Since the <em class="path">build</em> directory is generated, it is safe to remove.</p>
</div>
<div class="paragraph">
<p>The benefit of building the theme files is that the files can be optimized for static inclusion in the site without that optimization getting in the way of theme development.
For example, the theme build can optimize SVGs or add vendor prefixes to the CSS.
Since this optimization is only applied to the pre-compiled files, it does not interfere with the designer&#8217;s workflow.</p>
</div>
</div>
<div class="sect2">
<h3 id="theme-bundle-structure-releases"><a class="anchor" href="#theme-bundle-structure-releases"></a>Theme Bundle Structure (releases)</h3>
<div class="paragraph">
<p>The theme bundle&#8212;&#8203;a distributable archive&#8212;&#8203;gets attached to every tag in the git repository on GitHub.
The tag is created automatically by the release build, described in <a href="#publishing-a-release">Publishing a Release</a>.
The theme bundle provides files which are ready to be used by the site generator.</p>
</div>
<div class="paragraph">
<p>The contents of the bundle resembles the contents of the master branch, except it doesn&#8217;t contain any files other than the ones that make up the theme.
This is the content that is used by the site generator.</p>
</div>
<div class="literalblock output">
<div class="content">
<pre>fonts/
  ...
helpers/
  equals.js
  has-multiple-versions.js
  page-versions.js
  version-label.js
images/
  chevron.svg
  chevron-white.svg
  github-logo.svg
  header_footer_sprite.svg
  home-hovered.svg
  home.svg
  openzeppelin-dev-logo.svg
  openzeppelin-logo.svg
  triangle.svg
layouts/
  default.hbs
partials/
  article.hbs
  breadcrumbs.hbs
  domain-selector.hbs
  footer.hbs
  footer-scripts.hbs
  footer-shared.hbs
  header.hbs
  header-shared.hbs
  head.hbs
  main.hbs
  navigation.hbs
  navigation-tree.hbs
  page-version-selector.hbs
  toolbar.hbs
scripts/
  domain-selector.js
  highlight.pack.js
  navigation.js
  page-version-selector.js
stylesheets/
  index.css</pre>
</div>
</div>
<div class="paragraph">
<p>Some of the files have been compiled or aggregated, such as the stylesheets.</p>
</div>
<div class="paragraph">
<p>Now that you have a general idea of the files that make up the theme and how it gets assembled, let&#8217;s go over how to set up the project, build the theme, and preview it.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="prerequisites"><a class="anchor" href="#prerequisites"></a>Prerequisites</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This project is based on tools built atop Node.js (herein Node), namely:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://nodejs.org">Node</a> (command: <code>node</code>)</p>
</li>
<li>
<p><a href="https://yarnpkg.com">Yarn</a> (command: <code>yarn</code>)</p>
</li>
<li>
<p><a href="http://gulpjs.com">Gulp</a> (command: <code>gulp</code>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You also need <a href="https://git-scm.com">git</a> (command: <code>git</code>) to pull down the project and push updates to it.</p>
</div>
<div class="paragraph">
<p>First, make sure you have git installed.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ git --version</pre>
</div>
</div>
<div class="paragraph">
<p>If not, <a href="https://git-scm.com/downloads">download and install</a> the git package for your system.</p>
</div>
<div class="paragraph">
<p>Next, make sure that you have Node 7.8.0 or better installed.
While you can install Node from the official packages, we strongly recommend that you use <a href="https://github.com/creationix/nvm">nvm</a> (Node Version Manager) to install and manage Node.
Follow the <a href="https://github.com/creationix/nvm#installation">nvm installation instructions</a> to set up nvm on your machine.</p>
</div>
<div class="paragraph">
<p>Once you&#8217;ve installed nvm, open a new terminal and install the stable version of Node using the following command:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ nvm install node</pre>
</div>
</div>
<div class="paragraph">
<p>You can switch to this version of Node at any time using the following command:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ nvm use node</pre>
</div>
</div>
<div class="paragraph">
<p>Check the version to verify you&#8217;re on Node 7.8.0 or better.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ node --version</pre>
</div>
</div>
<div class="paragraph">
<p>Next, you&#8217;ll need the Gulp CLI (aka wrapper).
This package provides the <code>gulp</code> command which executes the version of Gulp declared by the project.
You should install the Gulp CLI globally (which resolves to a location in your user directory if you&#8217;re using nvm) using the following command:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ npm install -g gulp-cli</pre>
</div>
</div>
<div class="paragraph">
<p>Finally, you will need Yarn, which is the preferred package manager for the Node ecosystem.
You&#8217;ll need to use the <code>npm</code> command to install Yarn, though this is the last time you&#8217;ll use the <code>npm</code> command.
You should install Yarn globally (which resolves to a location in your user directory if you&#8217;re using nvm) using the following command:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ npm install -g yarn</pre>
</div>
</div>
<div class="paragraph">
<p>Verify Yarn is installed by checking the version:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ yarn --version</pre>
</div>
</div>
<div class="paragraph">
<p>Now that you have Node, Yarn, and Gulp installed, you&#8217;re ready to set up the project.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="setting-up-the-project"><a class="anchor" href="#setting-up-the-project"></a>Setting Up the Project</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Before you can start working on the theme, you need to grab the sources and initialize the project.</p>
</div>
<div class="paragraph">
<p>To start, clone the theme project using git:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ git clone --single-branch https://github.com/opendevise/openzeppelin-docs-theme-default &amp;&amp;
  cd "`basename $_`"</pre>
</div>
</div>
<div class="paragraph">
<p>Next, you&#8217;ll need to initialize the project.
Initializing the project essentially means downloading and installing the dependencies into the project.
That&#8217;s the job of Yarn.</p>
</div>
<div class="paragraph">
<p>In your terminal, execute the following command (while inside the project folder):</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ yarn install</pre>
</div>
</div>
<div class="paragraph">
<p>This command installs the dependencies listed in <em class="path">package.json</em> into the <em class="path">node_modules</em> folder inside the project.
This folder does not get included in the theme bundle.
The folder is safe to delete, though Yarn does a great job of managing it.</p>
</div>
<div class="paragraph">
<p>You&#8217;ll notice another file which seems to be relevant here, <em class="path">yarn.lock</em>.
Yarn uses this file to determine which specific version of a dependency to use, since versions in <em class="path">package.json</em> are typically just a range.
The information in this file makes the build reproducible across different machines and runs.</p>
</div>
<div class="paragraph">
<p>If a new dependency must be resolved that isn&#8217;t yet listed in <em class="path">yarn.lock</em>, Yarn will update this file with the new information when you run <code>yarn install</code>.
Therefore, you&#8217;re advised to commit this file into the repository whenever it changes.</p>
</div>
<div class="paragraph">
<p>Now that the dependencies are installed, you should be able to run the <code>gulp</code> command to find out what tasks the build supports:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ gulp --tasks-simple</pre>
</div>
</div>
<div class="paragraph">
<p>You should see:</p>
</div>
<div class="literalblock output">
<div class="content">
<pre>build
build-preview
preview
pack
release
update</pre>
</div>
</div>
<div class="paragraph">
<p>The next several sections explain what each of these tasks are for and when to use them.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="building-for-preview"><a class="anchor" href="#building-for-preview"></a>Building for Preview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The first thing you&#8217;ll want to do is check out how the theme looks.
That&#8217;s what the files in the <em class="path">preview-site</em> folder are for.
This folder contains HTML file fragments that provide a representative sample of content from the site (saving you from having to generate the whole site just to test the theme).
These files should give you an idea of how the theme will look when applied to the actual site.</p>
</div>
<div class="paragraph">
<p>The pages in the preview site are assembled using the Handlebars templates and link to the pre-compiled asset files (emulating the behavior of the site generator).
Thus, to look at then, you need to run them through the theme build.</p>
</div>
<div class="paragraph">
<p>There are two preview modes available.
You can run the build once and examine the result or you can run the build continuously so you can see changes as you make them.
The next two sections explain how to use these modes.</p>
</div>
<div class="sect2">
<h3 id="build-once"><a class="anchor" href="#build-once"></a>Build Once</h3>
<div class="paragraph">
<p>To build the theme once for preview, then stop, execute the <code>build-preview</code> task using the following command:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ gulp build-preview</pre>
</div>
</div>
<div class="paragraph">
<p>This task pre-compiles the theme files into the <em class="path">build/_theme</em> directory.
To view the preview pages, navigate to the HTML pages in the <em class="path">build</em> directory using your browser (e.g., <em class="path">build/index.html</em>).</p>
</div>
</div>
<div class="sect2">
<h3 id="build-continuously"><a class="anchor" href="#build-continuously"></a>Build Continuously</h3>
<div class="paragraph">
<p>To avoid the need to run the <code>build-preview</code> task over and over, you can use the <code>preview</code> command instead to have it run continuously.
This task also launches a local HTTP server so updates get synchronized with the browser (i.e., &#8220;live reload&#8221;).</p>
</div>
<div class="paragraph">
<p>To launch the preview server, execute the following command:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ gulp preview</pre>
</div>
</div>
<div class="paragraph">
<p>You&#8217;ll see two URLs listed in the output of this command:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>[BS] Access URLs:
 ----------------------------------
    Local: http://localhost:5252
 External: http://192.168.1.7:5252
 ----------------------------------
[BS] Serving files from: build
[BS] Watching files...</pre>
</div>
</div>
<div class="paragraph">
<p>Navigate to the first one to see the preview site.
While this command is running, any changes you make to the source files will be instantly reflected in the browser.
This works by monitoring the project for changes, running the <code>build</code> task if a change is detected, and sending the updates to the browser.</p>
</div>
<div class="paragraph">
<p>Press <span class="keyseq"><kbd>Ctrl</kbd>+<kbd>C</kbd></span> to stop the preview server and end the continuous build.</p>
</div>
<div class="sect3">
<h4 id="using-a-custom-port"><a class="anchor" href="#using-a-custom-port"></a>Using a Custom Port</h4>
<div class="paragraph">
<p>The HTTP port used for the preview is configured in <code>theme.yml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml"># ...
port: 5252</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can override this value using the command line flag <code>--port</code> like this:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ gulp preview --port 1337</pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="package"><a class="anchor" href="#package"></a>Package</h3>
<div class="paragraph">
<p>If you need to package the theme to use it with the site generator in order to preview the theme on the real site in local development, run the following command:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ gulp pack</pre>
</div>
</div>
<div class="paragraph">
<p>The theme bundle will be available at <em class="path">build/openzeppelin-docs-theme-default-latest.zip</em>.
You can then point the site generator at this bundle using the <code>--theme-archive</code> flag.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="working-on-the-theme"><a class="anchor" href="#working-on-the-theme"></a>Working on the Theme</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section provides information about some of the theme files you&#8217;ll be modifying and how to prepare and submit those changes.</p>
</div>
<div class="sect2">
<h3 id="development-workflow"><a class="anchor" href="#development-workflow"></a>Development Workflow</h3>
<div class="paragraph">
<p>As described later in <a href="#publishing-a-release">Publishing a Release</a>, all changes pushed to the master branch trigger a new release.
Therefore, you want to make your changes to a development branch and submit it as a pull request (PR) to be approved.
(Even better would be to issue the PR from a fork).
Only when the PR is approved and merged will the new release be triggered.</p>
</div>
<div class="paragraph">
<p>Use the following command to create a local development branch named <code>name-me</code>:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ git checkout -b name-me -t origin/master</pre>
</div>
</div>
<div class="paragraph">
<p>You&#8217;ll then apply your changes to the theme files.
Once you&#8217;re done making changes, commit those changes to the local branch:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ git commit -a -m "describe your change"</pre>
</div>
</div>
<div class="paragraph">
<p>Then, push your branch to the remote repository:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ git push origin name-me</pre>
</div>
</div>
<div class="paragraph">
<p>Finally, navigate to <a href="https://github.com/opendevise/openzeppelin-docs-theme-default" class="bare">github.com/opendevise/openzeppelin-docs-theme-default</a> in your browser and create a new pull request from this branch.</p>
</div>
<div class="paragraph">
<p>The maintainer of the theme should review the changes.
If the changes are acceptable, the maintainer will merge the pull request.
As soon as the pull request is merged into master, an automated process will take over to publish a new release for the site generator to use.</p>
</div>
<div class="paragraph">
<p>Now that you&#8217;ve got the process down, let&#8217;s review some of the files you&#8217;ll be working with in more detail.</p>
</div>
</div>
<div class="sect2">
<h3 id="handlebars-templates"><a class="anchor" href="#handlebars-templates"></a>Handlebars Templates</h3>
<div class="paragraph">
<p>The handlebars templates are combined with the converted AsciiDoc content to make the pages in the site.
These &#8220;logic-less&#8221; templates are mostly HTML with some special mustache tags sprinkled in where content is to be inserted.</p>
</div>
<div class="paragraph">
<p>The layouts provide the main page structure.
The partials fill in the different regions of the page.</p>
</div>
<div class="paragraph">
<p>The templates read from a model that&#8217;s populated by the site generator.
Places in the template where the model is read are enclosed in <code>{{</code> and <code>}}</code> markers, aka mustaches (e.g., <code>{{title}}</code>).
When the <code>{{</code> is immediately followed by <code>&gt;</code>, that&#8217;s where the result of a partial is inserted (e.g., <code>{{&gt; head }}</code>.</p>
</div>
<div class="paragraph">
<p>Here&#8217;s an overview of the available model:</p>
</div>
<table id="template-variables" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Variables available to the Handlebars templates</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>site</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Information about the site.
Properties include url, title, buildNumber, domains, aspect, aspectNav, and swiftypeKey.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>title</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The page title (also used as the primary heading).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>contents</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The main article content in HTML format.
Sourced from AsciiDoc and converted to HTML by the Asciidoctor processor.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>description</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The text of the description attribute in the AsciiDoc header, if specified.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>keywords</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A comma-separated list of keywords defined in the AsciiDoc header, if specified.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>domain</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Information about the navigation domain of the current page.
Properties include name, title, type, versioned, version, versions, url, root, and siteAspect.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>versions</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All versions of the current page, including this page.
Each entry has the properties url, string, and missing.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>breadcrumbs</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An Array of breadcrumb items that represent the current selection in the navigation tree.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>themeRootPath</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The path to the root directory of the theme.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>canonicalUrl</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The canonical URL for the current page.
If there are older versions of the page, the canonical URL is the URL of the latest version.
If this is an aspect page, the canonical URL is the URL of the primary (non-aspect) page.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>editUrl</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The URL to edit the current page, typically on GitHub.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>siteRootUrl</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The URL of the site root relative to the current page.
If the site does not have a root component, this value is null.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>home</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Indicates whether the current page is the home page of the site.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>navigation</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A collection of navigation links for the current page.
Each navigation item contains the property <code>text</code> as well as the optional properties <code>href</code> and (child) <code>items</code>.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>This model is likely to grow over time.</p>
</div>
</div>
<div class="sect2">
<h3 id="stylesheets"><a class="anchor" href="#stylesheets"></a>Stylesheets</h3>
<div class="paragraph">
<p>The stylesheets are written in CSS.
These stylesheets utilize CSS variables to keep the CSS DRY and easy to customize.</p>
</div>
<div class="paragraph">
<p>Within this project, the files are separated into modules to help organize the rules and make them easier to find.
These files get combined (and minified) into a single file by the theme build, named <em class="path">index.css</em>.</p>
</div>
</div>
<div class="sect2">
<h3 id="shared-partials"><a class="anchor" href="#shared-partials"></a>Shared Partials</h3>
<div class="paragraph">
<p>The content in the header and footer of each page (i.e., the site branding) is managed externally.
The <em class="path">partials/header-shared.hbs</em> and <em class="path">partials/footer-shared.hbs</em> files, which contain the header and footer content common to all the openzeppelin developer properties, are generated from a shared endpoint.
The theme incorporates this content into the theme bundle.
By doing so, it insulates the site generator from how this content is retrieved.
It also provides a way to test how the header and footer will interact with the design for the rest of the page, namely to ensure there are no unwanted side effects.</p>
</div>
<div class="paragraph">
<p>The question remains, how do the shared partials get updated?
That&#8217;s the job of the <code>update</code> Gulp task.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ gulp update</pre>
</div>
</div>
<div class="paragraph">
<p>The <code>update</code> task retrieves the shared header and footer content from the <a href="https://developer.openzeppelin.com/markup/get/header">header</a> and <a href="https://developer.openzeppelin.com/markup/get/footer">footer</a> endpoints, respectively.
It then applies a little massaging to the content to make it compatible with the documentation site design.
Finally, it writes the content to the <em class="path">partials/header-shared.hbs</em> and <em class="path">partials/footer-shared.hbs</em> files.</p>
</div>
<div class="paragraph">
<p>If there were any changes to the upstream content, git will report the local files as changed.
You can use the <a href="#building-for-preview">theme preview</a> to verify the changes are acceptable.
If everything looks good, you should commit these changes to the git repository.</p>
</div>
<div class="paragraph">
<p>You&#8217;ll need to run the update task periodically to keep the theme in sync with upstream changes.
You could have a CI job handle this task.</p>
</div>
</div>
<div class="sect2">
<h3 id="theme-configuration"><a class="anchor" href="#theme-configuration"></a>Theme Configuration</h3>
<div class="paragraph">
<p>You&#8217;ll notice there are a few other files in the root of the project.
Those will be covered in later sections.
Let&#8217;s focus on the <em class="path">theme.yml</em> file.
This is the main configuration file for the build.
It defines the path where the files are assembled when built, which defaults to the <em class="path">build</em> folder.
It also defines the path where the theme assets will reside in the production site, which defaults to <em class="path">_theme</em>.</p>
</div>
<div class="paragraph">
<p>Now let&#8217;s look at some specific use cases to help you understand how to update the theme.</p>
</div>
</div>
<div class="sect2">
<h3 id="use-case-1-add-a-new-css-rule"><a class="anchor" href="#use-case-1-add-a-new-css-rule"></a>Use Case 1: Add a new CSS rule</h3>
<div class="paragraph">
<p>Let&#8217;s consider the case when you want to modify the font size of a section title.</p>
</div>
<div class="paragraph">
<p>First, make sure you have set up the project and created a development branch.
Next, open the file <em class="path">stylesheets/article.css</em> and modify the rule for the section title.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-css hljs" data-lang="css">.doc h1 {
  font-size: 2.5rem;
  margin-bottom: 1rem;
  margin-top: 2rem
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Save the file, commit it to git, push the branch, and allow the approval workflow to play out.</p>
</div>
</div>
<div class="sect2">
<h3 id="use-case-2-modify-a-template"><a class="anchor" href="#use-case-2-modify-a-template"></a>Use Case 2: Modify a template</h3>
<div class="paragraph">
<p>Let&#8217;s consider the case when you want to add a new meta tag inside the HTML head.</p>
</div>
<div class="paragraph">
<p>First, make sure you have set up the project and created a development branch.
Next, open the file <em class="path">templates/partials/head.hbs</em> and add your tag.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-html hljs" data-lang="html">&lt;meta class="swiftype" name="title" data-type="string" content="{{title}}"&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Each template file has access to the template model, which exposes information about the current page through variable names.
The variables currently available are listed in <a href="#template-variables">Variables available to the Handlebars templates</a>.</p>
</div>
<div class="paragraph">
<p>Save the file, commit it to git, push the branch, and allow the approval workflow to play out.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="publishing-a-release"><a class="anchor" href="#publishing-a-release"></a>Publishing a Release</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Once you&#8217;re done making changes to the theme and would like to roll out an update, you&#8217;ll need to publish a release.
Releases are stored in the GitHub project, adjacent to the git repository.
You can see all past releases on the <a href="https://github.com/opendevise/openzeppelin-docs-theme-default/releases">releases page</a>.</p>
</div>
<div class="paragraph">
<p>To create a release, you first tag the git repository, then create a GitHub release from that tag.
Finally, you attach the theme bundle in zip format to that release, which makes it available for download.</p>
</div>
<div class="paragraph">
<p>Fortunately, you don&#8217;t have to do any of these steps yourself.
The process is fully automated.
When a commit is pushed to the master branch of the git repository, the <a href="https://openzeppelin-docs.ci.cloudbees.com/job/docs-theme-publisher">CI job</a> is takes over and executes the <code>release</code> task.
The release task creates the git tag<sup class="footnote">[<a id="_footnoteref_1" class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup> and corresponding GitHub release, pre-compiles the theme, bundles the theme as a zip file, and attaches the bundle to the GitHub release.</p>
</div>
<div class="paragraph">
<p>The <a href="https://openzeppelin-docs.ci.cloudbees.com/job/docs-theme-publisher">CI job</a> is already configured, so there&#8217;s nothing you need to do to make the automated release work.
All you have to do is commit files and push the commit to the master branch of the git repository.</p>
</div>
<div class="paragraph">
<p>The next two sections document how the release task and CI job are configured.</p>
</div>
<div class="sect2">
<h3 id="release-task-configuration"><a class="anchor" href="#release-task-configuration"></a>Release Task Configuration</h3>
<div class="paragraph">
<p>The release task relies on the following configuration settings:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">repository.owner</dt>
<dd>
<p>The GitHub organization where the main repository (not a fork) is hosted.</p>
</dd>
<dt class="hdlist1">repository.name</dt>
<dd>
<p>The name of the repository on GitHub.</p>
</dd>
<dt class="hdlist1">GITHUB_TOKEN</dt>
<dd>
<p>The authentication token of the release user, which grants write access to the CI job.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The first two settings, <code>repository.owner</code> and <code>repository.name</code>, are defined in the <em class="path">theme.yml</em> file, as you can see here:</p>
</div>
<div class="listingblock">
<div class="title">theme.yml (excerpt)</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">repository:
  owner: openzeppelin
  name: openzeppelin-docs-theme-default</code></pre>
</div>
</div>
<div class="paragraph">
<p>The last setting, <code>GITHUB_TOKEN</code>, is an environment variable that must be supplied by the CI server.</p>
</div>
</div>
<div class="sect2">
<h3 id="ci-job-configuration"><a class="anchor" href="#ci-job-configuration"></a>CI Job Configuration</h3>
<div class="paragraph">
<p>Jenkins is used to execute the CI job that performs the releases.
The job is named <em>docs-theme-publisher</em> and can be found in the Jenkins instance that&#8217;s managed by the openzeppelin docs team.
This section describes in detail how that job has been configured.</p>
</div>
<div class="paragraph">
<p>The release is performed by the openzeppelin-docs-agent GitHub account, which interacts with GitHub using the GitHub API.
The release script authenticates with the GitHub API as the openzeppelin-docs-agent user using a personal access token.
Therefore, the first step is to create a personal access token for the openzeppelin-docs-agent user on GitHub.
The token must have the public_repo scope.
No other scopes are required.
Copy the token that is generated.</p>
</div>
<div class="paragraph">
<p>The next step is to store this token in a Jenkins credential.
The credential is defined as follows:</p>
</div>
<div class="ulist unstyled">
<ul class="unstyled">
<li>
<p><em>Kind:</em> Secret text</p>
</li>
<li>
<p><em>Scope:</em> System (Jenkins and nodes only)</p>
</li>
<li>
<p><em>Secret:</em> &lt;hidden&gt;</p>
</li>
<li>
<p><em>ID:</em> openzeppelin-docs-agent-github-token</p>
</li>
<li>
<p><em>Description:</em> Personal access token for the openzeppelin-docs-agent GitHub account (scopes: public_repo)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The CI job itself is defined as a freestyle project.
On the configuration screen, the following settings have been selected or populated:</p>
</div>
<div class="ulist unstyled">
<ul class="unstyled">
<li>
<p><em>Project name:</em> docs-theme-publisher</p>
</li>
<li>
<p><em>Description:</em> This job publishes a new theme bundle each time a non-ignored change is made to the master branch.</p>
</li>
<li>
<p>[x] GitHub project</p>
<div class="ulist">
<ul>
<li>
<p><em>Project url:</em> <code>https://github.com/opendevise/openzeppelin-docs-theme-default</code></p>
</li>
</ul>
</div>
</li>
<li>
<p> [x] Restrict where this project can be run</p>
<div class="ulist">
<ul>
<li>
<p><em>Label Expression:</em> lxc-fedora25</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Source Code Management</strong></p>
<div class="ulist">
<ul>
<li>
<p>[x] Git</p>
</li>
<li>
<p><em>Repository URL:</em> <code>https://github.com/opendevise/openzeppelin-docs-theme-default</code></p>
</li>
<li>
<p><em>Branches to build | Branch Specifier:</em> */master</p>
</li>
<li>
<p>Additional Behaviours</p>
<div class="ulist">
<ul>
<li>
<p><strong>Polling ignores commits with certain messages</strong></p>
<div class="ulist">
<ul>
<li>
<p><em>Excluded Messages:</em> <code>(?s).*\[skip ci\].*</code></p>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
The expression <em>must</em> begin with <code>(?s)</code> or else it won&#8217;t work.
</td>
</tr>
</table>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Advanced clone behaviours</strong></p>
<div class="ulist">
<ul>
<li>
<p>Do not fetch tags: [x]</p>
</li>
<li>
<p>Honor refspec on initial clone: [x]</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Build Triggers</strong></p>
<div class="ulist">
<ul>
<li>
<p>[x] Poll SCM</p>
<div class="ulist">
<ul>
<li>
<p><em>Schedule:</em> <em>(leave blank)</em></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Build Environment</strong></p>
<div class="ulist">
<ul>
<li>
<p>[x] Provide Node &amp; npm bin/ folder to PATH</p>
<div class="ulist">
<ul>
<li>
<p><em>NodeJS Installation:</em> node7</p>
</li>
</ul>
</div>
</li>
<li>
<p>[x] Use secret text(s) or file(s)</p>
<div class="ulist">
<ul>
<li>
<p><strong>Secret text</strong></p>
<div class="ulist">
<ul>
<li>
<p><em>Variable:</em> GITHUB_TOKEN</p>
</li>
<li>
<p>[x] Specific credentials</p>
</li>
<li>
<p><em>Credentials:</em> some text (Personal access token for the openzeppelin-docs-agent GitHub account (scopes: public_repo))</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <strong>Use secret text(s) or file(s)</strong> setting reads the personal access token from the Jenkins credential and uses it to populate the GITHUB_TOKEN environment varaible.
This environment variable is used by the release task to authenticate the client (acting as the openzeppelin-docs-agent user) against the GitHub API.</p>
</div>
<div class="paragraph">
<p>The <strong>Poll SCM</strong> setting enables polling, but does not define a schedule.
In order to trigger the polling action, you need to configure the GitHub repository to ping the CI server when a commit is pushed to master.</p>
</div>
<div class="paragraph">
<p>To set up this ping (i.e., webhook), go to the Settings &gt; Webhooks page of the GitHub repository.
Click <b class="button">Add webhook</b>, enter the following URL in the Payload URL field, then click <b class="button">Add webhook</b>.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>https://openzeppelin-docs.ci.cloudbees.com/git/notifyCommit?url=https://github.com/opendevise/openzeppelin-docs-theme-default&amp;branches=master</pre>
</div>
</div>
<div class="paragraph">
<p>No secret is required (as this URL does not require authentication).</p>
</div>
<div class="paragraph">
<p>The last part of the job configuration is the script.
Under the Build section, an <strong>Add build step</strong> entry of type <strong>Execute Shell</strong> is defined to bootstrap the project and invoke the release task.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">rm -rf build
yarn &amp;&amp; ./node_modules/.bin/gulp release</code></pre>
</div>
</div>
<div class="paragraph">
<p>Since Jenkins retains the workspace between runs, it&#8217;s necessary to start by removing the build folder from the previous build.
Next, the dependencies are installed or updated.
Finally, the Gulp release task is invoked.</p>
</div>
<div class="paragraph">
<p>Now, whenever a commit is pushed to the master branch of the git repository on GitHub, the Jenkins job is triggered and cuts a new release of the theme bundle.</p>
</div>
</div>
<div class="sect2">
<h3 id="publishing-a-release-manually"><a class="anchor" href="#publishing-a-release-manually"></a>Publishing a Release Manually</h3>
<div class="paragraph">
<p>If you want to publish a release manually, you&#8217;ll have to pass your GitHub token using the CLI flag <code>--github-token</code>.
For example:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ gulp release --github-token xyz</pre>
</div>
</div>
<div class="paragraph">
<p>However, you should prefer having the CI server perform the release to avoid mistakes.</p>
</div>
</div>
</div>
</div>
<div id="footnotes">
<hr>
<div class="footnote" id="_footnotedef_1">
<a href="#_footnoteref_1">1</a>. Tag names are sequential, so each tag uses a number that is one greater than the previous one (e.g., from v9 to v10).
</div>
</div>
</article>
		<footer class="footer">
  <div class="rights">
    <span>© 2019. All rights reserved. </span>
    <a class="terms" href="/privacy">Privacy</a>
    <a class="terms" href="/tos">Terms of Service</a>
  </div>
</footer>
<script src="../_theme/scripts/site.js"></script>
<script src="../_theme/scripts/highlight.pack.js"></script>
<script>hljs.initHighlighting()</script>
	</main>
	<aside class="toc toc-sidebar js-toc">
	<div class="js-toc">
		<nav class="toc-menu"></nav>
	</div>
</aside>
</div>
</body>
</html>
